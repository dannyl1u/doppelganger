"use strict";(self.webpackChunkdocs=self.webpackChunkdocs||[]).push([[3976],{619:(e,n,i)=>{i.r(n),i.d(n,{assets:()=>a,contentTitle:()=>l,default:()=>h,frontMatter:()=>r,metadata:()=>o,toc:()=>c});var s=i(4848),t=i(8453);const r={},l="Getting started",o={id:"intro",title:"Getting started",description:"Problem: open-source maintainers spend a lot of time managing duplicate/related (doppelg\xe4nger) issues & pull requests",source:"@site/docs/intro.md",sourceDirName:".",slug:"/intro",permalink:"/doppelganger/docs/intro",draft:!1,unlisted:!1,editUrl:"https://github.com/dannyl1u/doppelganger/edit/main/docs/intro.md",tags:[],version:"current",frontMatter:{},sidebar:"tutorialSidebar"},a={},c=[{value:"Prerequisites",id:"prerequisites",level:2},{value:"Setup Instructions",id:"setup-instructions",level:2},{value:"1. Create a GitHub App",id:"1-create-a-github-app",level:3},{value:"2. Prepare Your Environment",id:"2-prepare-your-environment",level:3},{value:"3. Deploy the Application (ngrok instructions)",id:"3-deploy-the-application-ngrok-instructions",level:3},{value:"4. Update GitHub App Settings",id:"4-update-github-app-settings",level:3},{value:"5. Install the GitHub App",id:"5-install-the-github-app",level:3},{value:"Usage",id:"usage",level:2},{value:"Configuration",id:"configuration",level:2},{value:"Troubleshooting",id:"troubleshooting",level:2},{value:"Contributing",id:"contributing",level:2},{value:"License",id:"license",level:2},{value:"Star History",id:"star-history",level:2}];function d(e){const n={a:"a",br:"br",code:"code",h1:"h1",h2:"h2",h3:"h3",header:"header",li:"li",ol:"ol",p:"p",pre:"pre",strong:"strong",ul:"ul",...(0,t.R)(),...e.components};return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(n.header,{children:(0,s.jsx)(n.h1,{id:"getting-started",children:"Getting started"})}),"\n",(0,s.jsxs)(n.p,{children:[(0,s.jsx)("ins",{children:"Problem:"})," open-source maintainers spend a lot of time managing duplicate/related (doppelg\xe4nger) issues & pull requests",(0,s.jsx)(n.br,{}),"\n",(0,s.jsx)("ins",{children:"Solution:"})," doppelg\xe4nger compares newly submitted issues/PRs against existing ones to automatically flag duplicate/related (doppelg\xe4nger) issues/PRs"]}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Topics: vector db, github, open-source, embedding search, rag, similarity scores"})}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.a,{href:"https://github.com/dannyl1u/doppelganger/assets/45186464/cdc1c68b-4241-43d9-806c-b4b5cc1a702d",children:"https://github.com/dannyl1u/doppelganger/assets/45186464/cdc1c68b-4241-43d9-806c-b4b5cc1a702d"})}),"\n",(0,s.jsx)(n.p,{children:"This application is a GitHub App that automatically compares newly opened issues with existing ones, closing and commenting on highly similar issues to reduce duplication.\nIn addition, it comments feedback on PRs based on title and description for points to consider."}),"\n",(0,s.jsx)(n.h2,{id:"prerequisites",children:"Prerequisites"}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsx)(n.li,{children:"Python 3.8+"}),"\n",(0,s.jsx)(n.li,{children:"A GitHub account"}),"\n",(0,s.jsx)(n.li,{children:"A server or hosting platform to run the app (e.g., Heroku, DigitalOcean, AWS)"}),"\n",(0,s.jsx)(n.li,{children:(0,s.jsx)(n.a,{href:"https://github.com/ollama/ollama",children:"ollama"})}),"\n"]}),"\n",(0,s.jsx)(n.h2,{id:"setup-instructions",children:"Setup Instructions"}),"\n",(0,s.jsx)(n.h3,{id:"1-create-a-github-app",children:"1. Create a GitHub App"}),"\n",(0,s.jsxs)(n.ol,{children:["\n",(0,s.jsx)(n.li,{children:"Go to your GitHub account settings."}),"\n",(0,s.jsx)(n.li,{children:'Click on "Developer settings" in the left sidebar.'}),"\n",(0,s.jsx)(n.li,{children:'Select "GitHub Apps" and click "New GitHub App".'}),"\n",(0,s.jsxs)(n.li,{children:["Fill in the required information:","\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsx)(n.li,{children:'GitHub App name: Choose a unique name (e.g., "Issue Similarity Checker")'}),"\n",(0,s.jsx)(n.li,{children:"Homepage URL: Your app's website or your GitHub profile"}),"\n",(0,s.jsxs)(n.li,{children:["Webhook URL: The URL where your server will be running (e.g., ",(0,s.jsx)(n.a,{href:"https://your-server.com/webhook",children:"https://your-server.com/webhook"}),")"]}),"\n",(0,s.jsx)(n.li,{children:"Webhook secret: Generate a secure secret and save it for later use"}),"\n"]}),"\n"]}),"\n",(0,s.jsxs)(n.li,{children:["Set permissions:","\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsxs)(n.li,{children:["Repository permissions:","\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsx)(n.li,{children:"Issues: Read & write"}),"\n",(0,s.jsx)(n.li,{children:"Pull requests: Read & Write"}),"\n",(0,s.jsx)(n.li,{children:"Webhooks: Read-only"}),"\n"]}),"\n"]}),"\n",(0,s.jsxs)(n.li,{children:["Subscribe to events:","\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsx)(n.li,{children:"Issues"}),"\n",(0,s.jsx)(n.li,{children:"Pull request"}),"\n"]}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,s.jsx)(n.li,{children:"Create the app and note down the App ID"}),"\n",(0,s.jsx)(n.li,{children:"Generate a private key and download it (you'll need this later)"}),"\n"]}),"\n",(0,s.jsx)(n.h3,{id:"2-prepare-your-environment",children:"2. Prepare Your Environment"}),"\n",(0,s.jsxs)(n.ol,{children:["\n",(0,s.jsxs)(n.li,{children:["\n",(0,s.jsx)(n.p,{children:"Clone this repository:"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{children:"git clone https://github.com/dannyl1u/doppelganger.git\ncd doppelganger\n"})}),"\n"]}),"\n",(0,s.jsxs)(n.li,{children:["\n",(0,s.jsx)(n.p,{children:"Install dependencies:"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{children:"pip install -r requirements.txt\n"})}),"\n"]}),"\n",(0,s.jsxs)(n.li,{children:["\n",(0,s.jsxs)(n.p,{children:["To create a new ",(0,s.jsx)(n.code,{children:".env"})," file, run the following command in your terminal:"]}),"\n"]}),"\n"]}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-bash",children:"cp .env.example .env\n"})}),"\n",(0,s.jsxs)(n.p,{children:["Open the newly created ",(0,s.jsx)(n.code,{children:".env"})," file and update the following variables with your own values:",(0,s.jsx)(n.br,{}),"\n","* ",(0,s.jsx)(n.code,{children:"APP_ID"}),": Replace ",(0,s.jsx)(n.code,{children:"your_app_id_here"})," with your actual app ID.",(0,s.jsx)(n.br,{}),"\n","* ",(0,s.jsx)(n.code,{children:"WEBHOOK_SECRET"}),": Replace ",(0,s.jsx)(n.code,{children:"your_webhook_secret_here"})," with your actual webhook secret.",(0,s.jsx)(n.br,{}),"\n","* ",(0,s.jsx)(n.code,{children:"OLLAMA_MODEL"}),": Replace ",(0,s.jsx)(n.code,{children:"your_chosen_llm_model_here"}),' with your chosen LLM model (e.g. "llama3.2"). Note: it must be an Ollama supported model (see: ',(0,s.jsx)(n.a,{href:"https://ollama.com/library",children:"https://ollama.com/library"})," for supported models)"]}),"\n",(0,s.jsxs)(n.ol,{start:"4",children:["\n",(0,s.jsxs)(n.li,{children:["\n",(0,s.jsxs)(n.p,{children:["Place the downloaded private key in the project root and name it ",(0,s.jsx)(n.code,{children:"rsa.pem"}),"."]}),"\n"]}),"\n",(0,s.jsxs)(n.li,{children:["\n",(0,s.jsx)(n.p,{children:"Run the application locally"}),"\n"]}),"\n"]}),"\n",(0,s.jsx)(n.p,{children:"Start the Flask application:"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-bash",children:"python3 app.py\n"})}),"\n",(0,s.jsxs)(n.p,{children:["The application will start running on ",(0,s.jsx)(n.a,{href:"http://localhost:4000",children:"http://localhost:4000"})]}),"\n",(0,s.jsx)(n.h3,{id:"3-deploy-the-application-ngrok-instructions",children:"3. Deploy the Application (ngrok instructions)"}),"\n",(0,s.jsxs)(n.ol,{children:["\n",(0,s.jsx)(n.li,{children:"We will use ngrok for its simplicity"}),"\n"]}),"\n",(0,s.jsx)(n.p,{children:"In a new terminal window, start ngrok to create a secure tunnel to your local server:"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-bash",children:"ngrok http 4000\n"})}),"\n",(0,s.jsxs)(n.p,{children:["ngrok will generate a public URL (e.g., ",(0,s.jsx)(n.a,{href:"https://abc123.ngrok.io",children:"https://abc123.ngrok.io"}),")"]}),"\n",(0,s.jsxs)(n.p,{children:["Append ",(0,s.jsx)(n.code,{children:"/webhook"})," to the url, e.g.  ",(0,s.jsx)(n.a,{href:"https://abc123.ngrok.io",children:"https://abc123.ngrok.io"})," -> ",(0,s.jsx)(n.a,{href:"https://abc123.ngrok.io/webhook",children:"https://abc123.ngrok.io/webhook"})]}),"\n",(0,s.jsx)(n.h3,{id:"4-update-github-app-settings",children:"4. Update GitHub App Settings"}),"\n",(0,s.jsxs)(n.ol,{children:["\n",(0,s.jsx)(n.li,{children:"Go back to your GitHub App settings."}),"\n",(0,s.jsxs)(n.li,{children:["Update the Webhook URL to point to your deployed application (e.g., ",(0,s.jsx)(n.a,{href:"https://abc123.ngrok.io/webhook",children:"https://abc123.ngrok.io/webhook"}),")."]}),"\n"]}),"\n",(0,s.jsx)(n.h3,{id:"5-install-the-github-app",children:"5. Install the GitHub App"}),"\n",(0,s.jsxs)(n.ol,{children:["\n",(0,s.jsx)(n.li,{children:"Go to your GitHub App's settings page."}),"\n",(0,s.jsx)(n.li,{children:'In the "Install App" section, click "Install App" or "Add Installation".'}),"\n",(0,s.jsx)(n.li,{children:"Choose the account where you want to install the app."}),"\n",(0,s.jsx)(n.li,{children:"Select the repository (or repositories) where you want to use the app."}),"\n",(0,s.jsx)(n.li,{children:"Confirm the installation."}),"\n"]}),"\n",(0,s.jsx)(n.h2,{id:"usage",children:"Usage"}),"\n",(0,s.jsx)(n.p,{children:"Once installed, the app will automatically:"}),"\n",(0,s.jsxs)(n.ol,{children:["\n",(0,s.jsx)(n.li,{children:"Monitor new issues and PRs in the selected repositories."}),"\n",(0,s.jsx)(n.li,{children:"Compare new issues and PRs with existing ones using semantic similarity."}),"\n",(0,s.jsx)(n.li,{children:"Close and comment on highly similar issues and PRs to reduce duplication."}),"\n"]}),"\n",(0,s.jsx)(n.h2,{id:"configuration",children:"Configuration"}),"\n",(0,s.jsxs)(n.p,{children:["You can adjust the similarity threshold by modifying the ",(0,s.jsx)(n.code,{children:"SIMILARITY_THRESHOLD"})," variable in the script. The default is set to 0.5."]}),"\n",(0,s.jsx)(n.h2,{id:"troubleshooting",children:"Troubleshooting"}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsx)(n.li,{children:"Check the server logs for any error messages."}),"\n",(0,s.jsx)(n.li,{children:"Ensure all environment variables are correctly set."}),"\n",(0,s.jsxs)(n.li,{children:["Verify that the ",(0,s.jsx)(n.code,{children:"rsa.pem"})," file is present and correctly formatted."]}),"\n"]}),"\n",(0,s.jsx)(n.h2,{id:"contributing",children:"Contributing"}),"\n",(0,s.jsx)(n.p,{children:"Contributions are welcome! Please feel free to submit a Pull Request."}),"\n",(0,s.jsx)(n.h2,{id:"license",children:"License"}),"\n",(0,s.jsx)(n.p,{children:"This project is licensed under the MIT License."}),"\n",(0,s.jsx)(n.h2,{id:"star-history",children:"Star History"}),"\n",(0,s.jsx)("a",{href:"https://star-history.com/#dannyl1u/doppelganger&Date",children:(0,s.jsxs)("picture",{children:[(0,s.jsx)("source",{media:"(prefers-color-scheme: dark)",srcset:"https://api.star-history.com/svg?repos=dannyl1u/doppelganger&type=Date&theme=dark"}),(0,s.jsx)("source",{media:"(prefers-color-scheme: light)",srcset:"https://api.star-history.com/svg?repos=dannyl1u/doppelganger&type=Date"}),(0,s.jsx)("img",{alt:"Star History Chart",src:"https://api.star-history.com/svg?repos=dannyl1u/doppelganger&type=Date"})]})})]})}function h(e={}){const{wrapper:n}={...(0,t.R)(),...e.components};return n?(0,s.jsx)(n,{...e,children:(0,s.jsx)(d,{...e})}):d(e)}},8453:(e,n,i)=>{i.d(n,{R:()=>l,x:()=>o});var s=i(6540);const t={},r=s.createContext(t);function l(e){const n=s.useContext(r);return s.useMemo((function(){return"function"==typeof e?e(n):{...n,...e}}),[n,e])}function o(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(t):e.components||t:l(e.components),s.createElement(r.Provider,{value:n},e.children)}}}]);